//import 'package:hn_app/json_parsing.dart';
//import 'package:test_api/test_api.dart';
//import 'package:http/http.dart' as http;
//import 'dart:convert';
//
//void main(){
//  test("parse topstories.json",(){
//    const jsonString="[20139648,20138636,20139757,20137264,20137583,20138110,20139121,20139874,20138409,20139057,20137837,20138662,20138448,20140215,20138546,20132263,20137145,20138162,20137134,20130704,20137263,20137669,20137550,20138596,20139467,20134310,20138702,20131021,20140174,20138062,20137025,20135318,20129942,20124949,20132520,20134160,20137098,20135984,20139220,20135726,20137446,20136470,20138096,20136202,20133844,20133620,20135877,20131852,20127912,20124447,20133151,20135047,20138533,20133187,20134021,20133972,20137955,20136223,20132888,20129285,20138961,20126760,20138953,20135768,20132307,20136854,20133817,20131710,20133257,20134964,20131672,20139184,20119023,20128520,20130298,20120059,20132889,20138189,20138618,20125081,20129833,20131692,20138849,20122583,20124018,20133003,20130015,20134171,20133308,20135802,20135910,20126280,20135466,20131964,20122053,20133870,20127154,20121791,20123751,20137731,20121876,20131829,20132190,20132120,20133966,20121795,20135938,20132575,20130561,20129694,20116699,20123259,20134371,20137458,20129087,20123198,20132229,20127454,20136658,20137647,20126578,20127786,20133145,20134472,20129184,20136264,20134641,20130102,20120244,20120845,20135919,20130057,20118292,20125354,20135885,20135862,20120331,20121950,20123404,20133297,20128467,20126384,20131054,20130310,20135619,20130134,20133999,20132128,20121945,20125371,20123818,20135820,20124120,20124818,20123626,20137475,20129614,20114809,20123232,20130069,20121985,20114964,20123120,20134333,20137207,20127128,20122225,20121231,20122163,20115253,20120206,20115092,20116089,20133027,20121511,20123659,20132561,20121935,20129701,20123736,20126468,20133252,20125147,20123816,20123123,20131649,20123297,20122257,20124299,20123720,20120260,20136688,20125470,20121970,20123551,20129606,20122462,20137644,20118727,20126119,20116693,20116017,20136488,20120317,20131857,20131813,20132634,20122702,20118968,20117496,20121674,20115044,20132666,20125267,20129028,20123698,20138436,20131713,20132782,20115336,20134761,20114214,20128993,20116267,20116468,20133806,20127413,20116964,20118865,20128229,20115211,20130437,20134221,20131079,20123442,20118247,20120313,20126081,20121662,20116150,20136731,20128781,20120204,20118963,20115037,20127821,20137893,20122717,20128158,20124035,20127769,20126358,20136093,20123293,20124157,20131340,20114241,20115517,20117024,20136904,20129350,20122063,20117751,20129229,20129693,20124506,20121694,20132943,20129998,20115349,20121288,20120389,20128029,20133421,20137462,20133392,20117662,20114219,20126745,20128146,20124200,20130800,20124141,20123319,20125960,20123031,20114987,20136594,20130577,20116217,20128566,20124246,20131132,20119974,20133477,20133476,20128039,20114282,20128224,20122689,20126379,20115086,20132541,20118231,20132932,20127468,20132910,20122169,20117409,20116039,20129875,20132740,20126797,20120835,20131419,20116002,20130857,20130533,20119735,20132447,20115088,20114968,20127470,20121197,20130243,20130211,20128958,20121199,20129683,20120618,20126676,20132017,20126405,20126367,20118256,20128040,20115255,20129979,20121533,20114066,20118305,20121976,20118037,20128749,20117078,20131458,20125997,20117249,20131398,20119916,20121317,20132721,20115207,20117682,20114915,20131146,20121675,20114131,20126665,20126437,20133743,20129276,20114785,20125965,20118170,20115532,20117816,20114630,20130493,20123131,20123922,20121710,20126790,20114570,20126656,20129948,20115840,20129763,20129704,20122620,20131906,20120234,20128390,20124691,20131724,20128864,20124355,20129086,20124037,20119936,20128875,20115305,20128435,20128345,20123711,20121946,20127869,20120589,20116105,20128938,20125770,20125072,20121542,20115607,20121258,20123930,20123440,20117355,20116915,20123147,20123064,20119429,20122730,20118266,20122165,20132720,20123352,20116463,20116027,20121531,20121336,20121310,20121273,20121246,20121235,20121117,20128803,20120637,20120413,20120182,20131582,20119848,20118966,20118874,20120286,20117814,20117143,20131336,20115064,20114899,20114805,20114553,20114498,20114292,20122715,20121813,20121684,20122598,20114256,20133099,20115193,20122393,20121342,20137128,20125757,20139647,20119480,20129060,20117337,20121667,20114228]";
//
//    expect(parseTopStories(jsonString).first, 20139648);
//  });
//
//
//  test("parse item.json",(){
//    const jsonString=
//    """{"by":"norvig","id":2921983,"kids":[2922097,2922429,2924562,2922709,2922573,2922140,2922141],"parent":2921506,"text":"Aw shucks, guys ... you make me blush with your compliments.<p>Tell you what, Ill make a deal: I'll keep writing if you keep reading. K?","time":1314211127,"type":"comment"}""";
//    expect(parseArticle(jsonString).by, "norvig");
//  });
//
//
//  test("parse item.json over network",() async{
//        final url = "https://hacker-news.firebaseio.com/v0/beststories.json";
//        final res= await http.get(url);
//
//        if(res.statusCode == 200){
//            final idList=json.decode(res.body);
//
//            if(idList.isNotEmpty){
//                 final storyUrl = 'https://hacker-news.firebaseio.com/v0/item/${idList.first}.json';
//
//              final storyRes = await http.get(storyUrl);
//
//                 if(storyRes.statusCode==200){
//                   expect(parseArticle(storyRes.body), "pseudolus");
//                 }
//
//            }
//
//
//        }
//
//  });
//
//
//
//}